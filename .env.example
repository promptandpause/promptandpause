# =============================================================================
# PROMPT & PAUSE - ENVIRONMENT VARIABLES TEMPLATE
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# Never commit .env.local to version control!

# =============================================================================
# SUPABASE - Database + Authentication
# =============================================================================
# Your Supabase project URL (find in: Project Settings > API)
NEXT_PUBLIC_SUPABASE_URL=your-supabase-project-url-here

# Public anonymous key (safe to expose in browser - find in: Project Settings > API)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key-here

# Service role key (NEVER expose to client - find in: Project Settings > API)
# Used for server-side operations and admin tasks
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key-here

# =============================================================================
# AI SERVICES - Prompt Generation
# =============================================================================
# Primary AI provider: OpenRouter (https://openrouter.ai/keys)
# Free tier with access to multiple models (Meta Llama, Google, etc.)
# Get your free API key: https://openrouter.ai/keys
# SECURITY: Server-side only - NEVER expose to client
OPENROUTER_API_KEY=your-openrouter-api-key-here

# Secondary AI provider: Google Gemini (https://aistudio.google.com/app/apikey)
# Fast, free tier with generous limits
GEMINI_API_KEY=your-gemini-api-key-here

# Backup AI provider: OpenAI (https://platform.openai.com/api-keys)
# Fallback if OpenRouter/Gemini fails or rate limited
OPENAI_API_KEY=your-openai-api-key-here

# =============================================================================
# EMAIL DELIVERY - Resend
# =============================================================================
# Resend API key (https://resend.com/api-keys)
# Used to send daily prompts and transactional emails
RESEND_API_KEY=your-resend-api-key-here

# Verified sender email address (must be verified in Resend)
RESEND_FROM_EMAIL=prompts@promptandpause.com

# =============================================================================
# PAYMENTS - Stripe
# =============================================================================
# Stripe publishable key (safe to expose - find in: Developers > API keys)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=your-stripe-publishable-key-here

# Stripe secret key (NEVER expose to client - find in: Developers > API keys)
STRIPE_SECRET_KEY=your-stripe-secret-key-here

# Webhook signing secret (find in: Developers > Webhooks)
# Used to verify webhook authenticity
STRIPE_WEBHOOK_SECRET=your-stripe-webhook-secret-here

# Stripe price IDs (find in: Products > Prices)
STRIPE_PRICE_MONTHLY=your-stripe-monthly-price-id-here
STRIPE_PRICE_ANNUAL=your-stripe-annual-price-id-here

# Student Discount Prices (40% off)
STRIPE_PRICE_STUDENT_MONTHLY=your-stripe-student-monthly-price-id-here
STRIPE_PRICE_STUDENT_ANNUAL=your-stripe-student-annual-price-id-here

# NHS Discount Prices (40% off)
STRIPE_PRICE_NHS_MONTHLY=your-stripe-nhs-monthly-price-id-here
STRIPE_PRICE_NHS_ANNUAL=your-stripe-nhs-annual-price-id-here

# Gift Subscription Prices (one-time payments)
STRIPE_PRICE_GIFT_1_MONTH=your-stripe-gift-1-month-price-id-here
STRIPE_PRICE_GIFT_3_MONTHS=your-stripe-gift-3-months-price-id-here
STRIPE_PRICE_GIFT_6_MONTHS=your-stripe-gift-6-months-price-id-here

# =============================================================================
# CRON JOB SECURITY
# =============================================================================
# Secret key to authenticate cron job requests
# Generate a long random string: openssl rand -base64 32
CRON_SECRET=your-secure-cron-secret-here-use-openssl-rand-base64-32

# Cron-job.org API key (optional - for status page monitoring)
# Get from: https://cron-job.org/en/members/settings/
CRONJOB_ORG_API_KEY=your-cronjob-org-api-key-here

# =============================================================================
# RATE LIMITING - Upstash Redis (Production)
# =============================================================================
# Upstash Redis REST API endpoint (https://console.upstash.com/)
# Used for distributed rate limiting across serverless instances
UPSTASH_REDIS_REST_URL=your-upstash-redis-rest-url-here

# Upstash Redis REST API token
UPSTASH_REDIS_REST_TOKEN=your-upstash-redis-rest-token-here

# =============================================================================
# SLACK INTEGRATION SECURITY
# =============================================================================
# Slack OAuth credentials (https://api.slack.com/apps)
SLACK_CLIENT_ID=your-slack-client-id-here
SLACK_CLIENT_SECRET=your-slack-client-secret-here

# Slack Signing Secret (used to verify webhook signatures)
# CRITICAL: Required for security - prevents request forgery
SLACK_SIGNING_SECRET=your-slack-signing-secret-here

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
# Base URL of your application (must use HTTPS in production)
NEXT_PUBLIC_APP_URL=https://promptandpause.com

# Site URL for SEO metadata and sitemaps (usually same as APP_URL)
NEXT_PUBLIC_SITE_URL=https://promptandpause.com

# Node environment (development | production | test)
NODE_ENV=development

# Optional: Slack webhook for internal notifications (errors, monitoring)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxxxx

# BaseHub Blog page and Help center Integration
BASE_HUB=bshb_pk_q55wwwbsb98mmqsruq4tnvycc60rxlw6u21jmlxp3zh6zgdjnylr4ms82s6glqs6

# =============================================================================
# PDSDESK INTEGRATION - Support Ticket System
# =============================================================================
# PDSdesk Supabase URL (find in: Project Settings > API)
PDSDESK_SUPABASE_URL=https://jcgrxacwthoowcuuxuur.supabase.co

# PDSdesk Service Role Key (NEVER expose to client - find in: Project Settings > API)
# Used for server-side admin operations on PDSdesk
PDSDESK_SUPABASE_SERVICE_ROLE_KEY=your-pdsdesk-service-role-key-here

# PDSdesk Support System User ID (UUID of the system user in PDSdesk)
# This user will be set as the requester for dashboard support tickets
PDSDESK_SUPPORT_SYSTEM_USER_ID=fb8b71c1-b3eb-4099-b4eb-7596e0941d80

# =============================================================================
# PWA PUSH NOTIFICATIONS - VAPID Keys
# =============================================================================
# Generate VAPID keys using: npx web-push generate-vapid-keys
# These are required for sending push notifications to PWA users

# VAPID Public Key (safe to expose in browser)
NEXT_PUBLIC_VAPID_PUBLIC_KEY=your-vapid-public-key-here

# VAPID Private Key (NEVER expose to client - server-side only)
VAPID_PRIVATE_KEY=your-vapid-private-key-here

# VAPID Subject (mailto: or https: URL identifying your app)
VAPID_SUBJECT=mailto:support@promptandpause.com

# =============================================================================
# NOTES - IMPORTANT SECURITY REMINDERS
# =============================================================================
# 1. NEVER commit .env.local to version control - it contains real secrets!
# 2. For production, replace ALL placeholder values with actual keys
# 3. Ensure NEXT_PUBLIC_APP_URL uses HTTPS (https://promptandpause.com)
# 4. Update NODE_ENV to 'production' in production environment
# 5. Generate a new CRON_SECRET for production: openssl rand -base64 32
# 6. Set up Stripe webhooks pointing to: https://promptandpause.com/api/webhooks/stripe
# 7. Set up Upstash Redis account for production rate limiting
# 8. Configure ADMIN_EMAIL to match your Supabase admin user email
# 9. Set up Slack app and add SLACK_SIGNING_SECRET for webhook verification
# 10. Rotate all secrets regularly (quarterly recommended)
